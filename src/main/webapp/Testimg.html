<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ajax XML</title>
<link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
	<header id="header"></header>
	<div class="container">
		<div class="jumbotron">
			<div class="page-header">
				<h3>
					XML <small>Ajax XML</small>
				</h3>
			</div>
			<input type="button" value="Load" id="buttonLoad">
			<div id="div1"></div>
			<!-- 每頁不同的內容到這裡結束 -->
		</div>

		<div id="row"></div>

		<!-- Site footer -->
		<div id="footer"></div>

	</div>
	<!-- /container -->


	<script src="js/jquery-1.9.1.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/include.js"></script>
	<script>
		
		var $myDiv = $("#div1");
		var $btn = $("#buttonLoad").click(function(){
			$.ajax({
				url : 'testimage3.xml',
				type : 'GET',
				dataType: "xml",
				success : function(result) {
					while($myDiv.children().length > 0){
						$myDiv.empty();
					}
					$('<img>').attr('src','data:image/jpg;base64,'+$(result).find('test').text()).appendTo($('#div1'));
				},
				error : function(xhr) {
					alert('Ajax request 發生錯誤');
				}
			});
		});
	</script>

</body>

</html>